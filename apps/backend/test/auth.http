### =====================================================
### ENVIRONMENT CONFIGURATION
### =====================================================
@local = http://localhost:4000
@codespace = https://ubiquitous-zebra-wv7ggxpwp5frrv-4000.app.github.dev

### ðŸ‘‰ Select active backend
# @baseUrl = {{local}}
 @baseUrl = {{codespace}}

### =====================================================
### AUTH â€“ REGISTER (USER)
### =====================================================
POST {{baseUrl}}/auth/register
Content-Type: application/json
Accept-Language: en

{
  "email": "user@example.com",
  "password": "Password123",
  "role": "USER",
  "firstName": "John",
  "lastName": "Doe"
}

###

### =====================================================
### AUTH â€“ REGISTER (PROFESSIONAL)
### =====================================================
POST {{baseUrl}}/auth/register
Content-Type: application/json
Accept-Language: fr

{
  "email": "pro@example.com",
  "password": "Password123",
  "role": "PROFESSIONAL",
  "firstName": "Marie",
  "lastName": "Dupont"
}

###

### =====================================================
### AUTH â€“ REGISTER (FORBIDDEN ROLE: ADMIN)
### Expect: auth.role_not_allowed
### =====================================================
POST {{baseUrl}}/auth/register
Content-Type: application/json
Accept-Language: fr

{
  "email": "admin@example.com",
  "password": "Password123",
  "role": "ADMIN"
}

###

### =====================================================
### AUTH â€“ LOGIN (SUCCESS)
### =====================================================
POST {{baseUrl}}/auth/login
Content-Type: application/json
Accept-Language: en

{
  "email": "user@example.com",
  "password": "Password123"
}

> {% 
  client.global.set("access_token", response.body.access_token);
%}

###

### =====================================================
### AUTH â€“ LOGIN (INVALID PASSWORD)
### Expect: auth.invalid_credentials
### =====================================================
POST {{baseUrl}}/auth/login
Content-Type: application/json
Accept-Language: ar

{
  "email": "user@example.com",
  "password": "WrongPassword"
}

###

### =====================================================
### AUTH â€“ LOGIN (UNKNOWN USER)
### =====================================================
POST {{baseUrl}}/auth/login
Content-Type: application/json
Accept-Language: ro

{
  "email": "unknown@example.com",
  "password": "Password123"
}

###

### =====================================================
### AUTH â€“ ME (JWT REQUIRED)
### Example protected endpoint
### =====================================================
GET {{baseUrl}}/auth/me
Authorization: Bearer {{access_token}}
Accept-Language: en
