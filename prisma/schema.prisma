generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
}

model User {
  id        Int      @id @default(autoincrement())
  email     String   @unique
  password  String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Child {
  id        Int      @id @default(autoincrement())
  name      String
  age       Int?
  language  String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  vocabAssignments ChildVocabulary[]
}

model VocabularyItem {
  id        Int      @id @default(autoincrement())
  key       String
  category  String?
  imageUrl  String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  translations VocabularyTranslation[]
  assignments  ChildVocabulary[]
}

model VocabularyTranslation {
  id       Int    @id @default(autoincrement())
  vocabId  Int
  language String
  label    String

  vocab    VocabularyItem @relation(fields: [vocabId], references: [id])

  @@unique([vocabId, language])
}

model ChildVocabulary {
  id       Int    @id @default(autoincrement())
  childId  Int
  vocabId  Int
  position Int?

  child    Child          @relation(fields: [childId], references: [id])
  vocab    VocabularyItem @relation(fields: [vocabId], references: [id])

  @@unique([childId, vocabId])
}

model ImageAsset {
  id        Int      @id @default(autoincrement())
  url       String
  altText   String?
  createdAt DateTime @default(now())
}
